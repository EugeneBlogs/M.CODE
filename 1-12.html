<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <title>1-12</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap');

        :root {
            --primary: #8b5cf6;
            --secondary: #06b6d4;
            --accent: #f472b6;
            --background: #f8fafc;
            --text: #1e293b;
            --paper: #ffffff;
            --shadow: rgba(139, 92, 246, 0.15);
            --shadow-hover: rgba(139, 92, 246, 0.25);
            --border: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 10;
        }

        .header::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -15px;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 2px;
        }

        h1 {
            font-size: 3.2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-weight: 800;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 10px rgba(139, 92, 246, 0.1);
        }

        h2 {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 20px;
            font-weight: 500;
            opacity: 0.9;
        }

        .info-box {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px var(--shadow);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .info-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }

        .info-box p {
            line-height: 1.8;
            color: #475569;
            margin-bottom: 18px;
            font-size: 1.05rem;
        }

        .highlight {
            font-weight: 600;
            color: var(--primary);
            position: relative;
            padding: 0 2px;
        }

        .highlight::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 2px;
            width: 100%;
            height: 2px;
            background: rgba(139, 92, 246, 0.3);
            border-radius: 1px;
        }

        .game-section {
            margin-bottom: 30px;
        }

        .game-status {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .status-item {
            background: white;
            padding: 20px 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px var(--shadow);
            min-width: 200px;
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
            cursor: default;
        }

        .status-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .status-item:hover {
            transform: translateY(-6px);
            box-shadow: 0 15px 40px var(--shadow-hover);
        }

        .status-label {
            font-size: 0.95rem;
            color: #64748b;
            margin-bottom: 8px;
            font-weight: 500;
            letter-spacing: 0.02em;
        }

        .status-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dice-numbers {
            color: var(--secondary);
            font-size: 1.6rem;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .button-row {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 16px 32px;
            border-radius: 14px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            border: none;
            outline: none;
            box-shadow: 0 8px 25px var(--shadow);
            background: white;
            border: 1px solid var(--border);
            min-width: 180px;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.3));
            transform: translateY(-100%);
            transition: transform 0.3s;
        }

        .btn:hover::after {
            transform: translateY(0);
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 35px var(--shadow-hover);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #64748b;
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.15);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.1);
        }

        .paper-table {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 25px 50px var(--shadow);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }

        .paper-table::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: repeating-linear-gradient(to right,
                    transparent 0px,
                    transparent 25px,
                    rgba(139, 92, 246, 0.15) 25px,
                    rgba(139, 92, 246, 0.15) 28px);
            z-index: 1;
        }

        .paper-table::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(transparent 0px, transparent 40px, rgba(139, 92, 246, 0.04) 40px, rgba(139, 92, 246, 0.04) 43px);
            pointer-events: none;
            z-index: 0;
        }

        .numbers-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 18px;
            position: relative;
            z-index: 2;
        }

        .number-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            font-weight: 700;
            color: #1e293b;
            background: white;
            border-radius: 14px;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            cursor: default;
        }

        .number-cell.crossed {
            color: #1e293b;
            border-color: #ef4444;
        }

        .number-cell.crossed::after {
            content: '';
            position: absolute;
            width: 140%;
            height: 5px;
            background: #ef4444;
            transform: rotate(25deg);
            border-radius: 3px;
            animation: strikeThrough 0.6s ease-out;
            z-index: 1;
        }

        .number-cell:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
            border-color: var(--primary);
        }

        .footer {
            margin-top: auto;
            text-align: center;
            padding: 25px 0 20px;
            color: #94a3b8;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.02em;
        }

        .old-design-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            border: 1px solid var(--border);
            color: var(--primary);
            padding: 12px 18px;
            border-radius: 10px;
            font-size: 0.9rem;
            cursor: pointer;
            box-shadow: 0 8px 25px var(--shadow);
            transition: all 0.3s ease;
            z-index: 100;
            font-weight: 500;
        }

        .old-design-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 12px 35px var(--shadow-hover);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes strikeThrough {
            from {
                width: 0;
                opacity: 0;
            }

            to {
                width: 140%;
                opacity: 1;
            }
        }

        @keyframes confetti {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .confetti {
            position: fixed;
            top: -10%;
            z-index: 1000;
            pointer-events: none;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 90%;
            transform: translateY(-50px);
            animation: modalAppear 0.5s ease-out;
            border: 1px solid var(--border);
        }

        @keyframes modalAppear {
            0% {
                transform: translateY(-50px);
                opacity: 0;
            }

            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-title {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .modal-message {
            font-size: 1.2rem;
            color: #475569;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .modal-steps {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 25px;
        }

        .modal-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
            transition: all 0.3s ease;
        }

        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(139, 92, 246, 0.4);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            h2 {
                font-size: 1.1rem;
            }

            .info-box {
                padding: 25px;
            }

            .status-item {
                min-width: 160px;
                padding: 16px 22px;
            }

            .status-value {
                font-size: 1.5rem;
            }

            .dice-numbers {
                font-size: 1.4rem;
            }

            .paper-table {
                padding: 30px 20px;
            }

            .numbers-grid {
                gap: 14px;
            }

            .number-cell {
                font-size: 1.4rem;
            }

            .btn {
                padding: 14px 26px;
                font-size: 1rem;
                min-width: 160px;
            }

            .old-design-btn {
                bottom: 15px;
                right: 15px;
                padding: 10px 15px;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2.2rem;
            }

            .game-status {
                gap: 15px;
            }

            .status-item {
                min-width: 140px;
                padding: 14px 20px;
            }

            .status-value {
                font-size: 1.3rem;
            }

            .paper-table {
                padding: 25px 15px;
            }

            .numbers-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
            }

            .number-cell {
                font-size: 1.3rem;
                aspect-ratio: 1;
            }

            .btn {
                padding: 12px 22px;
                font-size: 0.95rem;
                min-width: 140px;
            }

            .modal-content {
                padding: 30px 20px;
            }

            .modal-title {
                font-size: 1.8rem;
            }

            .modal-message {
                font-size: 1.1rem;
            }

            .modal-steps {
                font-size: 1.2rem;
            }

            .modal-btn {
                padding: 12px 28px;
                font-size: 1rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>1-12</h1>
            <h2>Идея: шоу "Тейбл Тайм"</h2>
        </div>

        <div class="info-box">
            <p><span class="highlight">Количество игроков:</span> 2-∞.</p>
            <p><span class="highlight">Правила игры:</span> у каждого участника есть таблица с числами от 1 до 12. Игрок
                делает виртуальный бросок игральными костями. Затем, у него есть выбор: закрыть два разных числа или
                одну сумму (например, если выпало <span style="color:#10b981">3</span> и <span
                    style="color:#10b981">6</span>, игрок может закрыть <span style="color:#10b981">3</span> и <span
                    style="color:#10b981">6</span> ИЛИ только <span style="color:#10b981">9</span>). Если одно из чисел
                уже закрыто (например, <span style="color:#10b981">3</span> закрыта, а <span
                    style="color:#10b981">6</span> открыта), участник может закрыть только сумму, но если сумма тоже
                закрыта, участник ничего не может закрыть.</p>
            <p><span class="highlight">Побеждает тот, кто закрыл все числа быстрее других игроков.</span></p>
            <p><span class="highlight">ВАЖНО!</span> Необходимо полностью закончить круг (дойти до того игрока, с
                которого игра начиналась), даже если уже есть победитель. Возможно, их будет несколько :)</p>
            <p><span class="highlight">Как играть?</span> Каждый игрок открывает на своём устройстве данную страницу.
                Участники по очереди нажимают на кнопку «Бросить кубики», затем делают выбор, нажав на кнопку «Закрыть
                числа» или «Закрыть сумму». Если человеку недоступен данный ход, кнопка станет неактивной. Закрытые
                числа помечаются красным зачеркиванием, а незакрытые - чёрным. Вам нужно только следить за тем, кто
                сейчас ходит.</p>
        </div>

        <div class="game-section">
            <div class="game-status">
                <div class="status-item">
                    <div class="status-label">ХОД</div>
                    <div class="status-value" id="step">0</div>
                </div>
                <div class="status-item">
                    <div class="status-label">ВЫПАЛИ ЧИСЛА</div>
                    <div class="status-value dice-numbers">
                        <span id="gen_num_1">0</span> и <span id="gen_num_2">0</span>
                    </div>
                </div>
            </div>

            <div class="buttons">
                <div class="button-row">
                    <button class="btn btn-primary" id="btn_brosok" onclick="RollDice()">Бросить кубики</button>
                    <button class="btn btn-warning" onclick="location.reload()">Начать сначала</button>
                </div>
                <div class="button-row">
                    <button class="btn btn-success" id="btn_numbers" onclick="CloseTwoNumber()" disabled>Закрыть
                        числа</button>
                    <button class="btn btn-danger" id="btn_summa" onclick="CloseSumNumbers()" disabled>Закрыть
                        сумму</button>
                </div>
            </div>

            <div class="paper-table">
                <div class="numbers-grid">
                    <div class="number-cell" id="number1">1</div>
                    <div class="number-cell" id="number2">2</div>
                    <div class="number-cell" id="number3">3</div>
                    <div class="number-cell" id="number4">4</div>
                    <div class="number-cell" id="number5">5</div>
                    <div class="number-cell" id="number6">6</div>
                    <div class="number-cell" id="number7">7</div>
                    <div class="number-cell" id="number8">8</div>
                    <div class="number-cell" id="number9">9</div>
                    <div class="number-cell" id="number10">10</div>
                    <div class="number-cell" id="number11">11</div>
                    <div class="number-cell" id="number12">12</div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        Редизайн сайта выполнил «Qwen 3» под руководством «MylnikCode».
    </div>

    <button class="old-design-btn" onclick="window.location.href='1-12_old.html'">Старый дизайн</button>

    <div class="modal" id="winnerModal">
        <div class="modal-content">
            <div class="modal-title">🎉 Поздравляем!</div>
            <div class="modal-message">Вы выиграли! Все числа закрыты!</div>
            <div class="modal-steps">Вы сделали это за <span id="finalSteps">0</span> ходов</div>
            <button class="modal-btn" onclick="closeModal()">Играть снова</button>
        </div>
    </div>

    <script>
        let step = 0;
        let gen_num_1 = 0;
        let gen_num_2 = 0;
        let gen_summa = 0;
        let numbers = [false, false, false, false, false, false, false, false, false, false, false, false];

        let bool_hod = true;
        let bool_numbers = false;
        let bool_summa = false;

        function RND(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min) + min);
        }

        function RollDice() {
            if (bool_hod) {
                gen_num_1 = RND(1, 7);
                gen_num_2 = RND(1, 7);
                gen_summa = gen_num_1 + gen_num_2;
                step++;
                document.getElementById("step").innerHTML = step;
                document.getElementById("gen_num_1").innerHTML = gen_num_1;
                document.getElementById("gen_num_2").innerHTML = gen_num_2;

                BanHod();

                document.getElementById("btn_numbers").innerHTML = `Закрыть ${gen_num_1} и ${gen_num_2}`;
                document.getElementById("btn_summa").innerHTML = `Закрыть сумму ${gen_summa}`;

                if (numbers[gen_num_1 - 1] == false && numbers[gen_num_2 - 1] == false) {
                    AllowNumbers();
                } else {
                    BanNumbers();
                }

                if (numbers[gen_summa - 1] == false) {
                    AllowSumma();
                } else {
                    BanSumma();
                }

                if (bool_numbers == false && bool_summa == false) {
                    AllowHod();
                }
            }
        }

        function CloseTwoNumber() {
            if (bool_numbers) {
                MarkNumber(gen_num_1);
                MarkNumber(gen_num_2);

                BanNumbers();
                BanSumma();
                AllowHod();

                ChechWinner();
            }
        }

        function CloseSumNumbers() {
            if (bool_summa) {
                MarkNumber(gen_summa);

                BanNumbers();
                BanSumma();
                AllowHod();

                ChechWinner();
            }
        }

        function ChechWinner() {
            let checker = numbers => numbers.every(n => n === true);
            if (checker(numbers)) {
                showWinnerModal();
                createConfetti();
            }
        }

        function MarkNumber(num) {
            numbers[num - 1] = true;
            const cell = document.getElementById(`number${num}`);
            cell.classList.add("crossed");
        }

        function AllowHod() {
            const btn = document.getElementById("btn_brosok");
            btn.classList.remove("btn-secondary");
            btn.classList.add("btn-primary");
            bool_hod = true;
        }

        function BanHod() {
            const btn = document.getElementById("btn_brosok");
            btn.classList.remove("btn-primary");
            btn.classList.add("btn-secondary");
            bool_hod = false;
        }

        function AllowNumbers() {
            const btn = document.getElementById("btn_numbers");
            btn.classList.remove("btn-secondary");
            btn.classList.add("btn-success");
            btn.disabled = false;
            bool_numbers = true;
        }

        function BanNumbers() {
            const btn = document.getElementById("btn_numbers");
            btn.classList.add("btn-secondary");
            btn.classList.remove("btn-success");
            btn.disabled = true;
            bool_numbers = false;
        }

        function AllowSumma() {
            const btn = document.getElementById("btn_summa");
            btn.classList.remove("btn-secondary");
            btn.classList.add("btn-danger");
            btn.disabled = false;
            bool_summa = true;
        }

        function BanSumma() {
            const btn = document.getElementById("btn_summa");
            btn.classList.add("btn-secondary");
            btn.classList.remove("btn-danger");
            btn.disabled = true;
            bool_summa = false;
        }

        function showWinnerModal() {
            const modal = document.getElementById('winnerModal');
            document.getElementById('finalSteps').textContent = step;
            modal.classList.add('show');
        }

        function closeModal() {
            const modal = document.getElementById('winnerModal');
            modal.classList.remove('show');
            setTimeout(() => {
                location.reload();
            }, 300);
        }

        function createConfetti() {
            const colors = ['#8b5cf6', '#06b6d4', '#f472b6', '#f59e0b', '#10b981', '#ef4444'];
            const confettiCount = 200;

            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');

                const size = Math.random() * 10 + 5;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const delay = Math.random() * 5;
                const duration = Math.random() * 3 + 2;

                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.backgroundColor = color;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.opacity = Math.random() * 0.8 + 0.2;
                confetti.style.left = `${left}%`;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.animation = `confetti ${duration}s linear ${delay}s infinite`;

                document.body.appendChild(confetti);

                setTimeout(() => {
                    confetti.remove();
                }, (duration + delay) * 1000);
            }
        }

        window.onclick = function (event) {
            const modal = document.getElementById('winnerModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(() => {
                document.querySelector('.header').style.opacity = '1';
                document.querySelector('.header').style.transform = 'translateY(0)';
            }, 100);
        });
    </script>
</body>


</html>
